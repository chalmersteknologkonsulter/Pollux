{"ast":null,"code":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define(['exports', 'react', 'react-router', 'create-react-class'], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(exports, require('react'), require('react-router'), require('create-react-class'));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports, global.react, global.reactRouter, global.createReactClass);\n    global.index = mod.exports;\n  }\n})(this, function (exports, React, ReactRouter, createReactClass) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  function _objectWithoutProperties(obj, keys) {\n    var target = {};\n\n    for (var i in obj) {\n      if (keys.indexOf(i) >= 0) continue;\n      if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n      target[i] = obj[i];\n    }\n\n    return target;\n  }\n\n  var OriginalLink = ReactRouter.Link; // Deliberately not using ES6 classes - babel spits out too much boilerplate\n  //                                      and I don't want to add a dependency on babel\n  //                                      runtime\n\n  function NamedURLResolverClass() {\n    this.routesMap = {};\n  }\n\n  function toArray(val) {\n    return Object.prototype.toString.call(val) !== '[object Array]' ? [val] : val;\n  } // Cached regexps:\n\n\n  var reRepeatingSlashes = /\\/+/g; // \"/some//path\"\n\n  var reSplatParams = /\\*{1,2}/g; // \"/some/*/complex/**/path\"\n\n  var reResolvedOptionalParams = /\\(([^:*?#]+?)\\)/g; // \"/path/with/(resolved/params)\"\n\n  var reUnresolvedOptionalParams = /\\([^:?#]*:[^?#]*?\\)/g; // \"/path/with/(groups/containing/:unresolved/optional/:params)\"\n\n  var reUnresolvedOptionalParamsRR4 = /(\\/[^\\/]*\\?)/g; // \"/path/with/groups/containing/unresolved?/optional/params?\"\n\n  var reTokens = /<(.*?)>/g;\n  var reSlashTokens = /_!slash!_/g;\n\n  NamedURLResolverClass.prototype.resolve = function (name, params) {\n    if (name && name in this.routesMap) {\n      var routePath = this.routesMap[name];\n      return formatRoute(routePath, params);\n    }\n\n    return name;\n  };\n\n  NamedURLResolverClass.prototype.mergeRouteTree = function (routes) {\n    var _this = this;\n\n    var prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n    routes = toArray(routes);\n    routes.forEach(function (route) {\n      if (!route) return;\n      var newPrefix = \"\";\n\n      if (route.props) {\n        var routePath = route.props.path || \"\";\n        var newPrefix = (routePath != null && routePath[0] === \"/\" ? routePath : [prefix, routePath].filter(function (x) {\n          return x;\n        }).join(\"/\")).replace(reRepeatingSlashes, \"/\");\n\n        if (route.props.name) {\n          _this.routesMap[route.props.name] = newPrefix;\n        }\n\n        React.Children.forEach(route.props.children, function (child) {\n          _this.mergeRouteTree(child, newPrefix);\n        });\n      }\n    });\n  };\n\n  NamedURLResolverClass.prototype.reset = function () {\n    this.routesMap = {};\n  };\n\n  var NamedURLResolver = new NamedURLResolverClass();\n  var Link = createReactClass({\n    render: function render() {\n      var _props = this.props,\n          to = _props.to,\n          resolver = _props.resolver,\n          params = _props.params,\n          rest = _objectWithoutProperties(_props, ['to', 'resolver', 'params']);\n\n      if (!resolver) resolver = NamedURLResolver;\n      var finalTo = resolveTo(resolver, to, params);\n      return React.createElement(OriginalLink, _extends({\n        to: finalTo\n      }, rest));\n    }\n  });\n\n  function resolveTo(resolver, to, params) {\n    if (typeof to === \"string\") {\n      return resolver.resolve(to, params);\n    }\n\n    if (typeof to === \"function\") {\n      return function (location) {\n        return resolveTo(resolver, to(location), params);\n      };\n    }\n\n    if (!to.name) {\n      return to;\n    }\n\n    if (to.pathname) {\n      throw new Error('Cannot specify both \"pathname\" and \"name\" options in location descriptor.');\n    }\n\n    var name = to.name,\n        rest = _objectWithoutProperties(to, ['name']);\n\n    return _extends({}, rest, {\n      pathname: resolver.resolve(name, params)\n    });\n  }\n\n  function MonkeyPatchNamedRoutesSupport(routes) {\n    var basename = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"/\";\n    NamedURLResolver.mergeRouteTree(routes, basename);\n    ReactRouter.Link = Link;\n  }\n\n  ;\n\n  function setNamedURLResolver(resolver) {\n    exports.NamedURLResolver = NamedURLResolver = resolver;\n  }\n\n  ;\n\n  function formatRoute(routePath, params) {\n    if (params) {\n      var tokens = {};\n\n      for (var paramName in params) {\n        if (params.hasOwnProperty(paramName)) {\n          var paramValue = params[paramName];\n\n          if (paramName === \"splat\") {\n            // special param name in RR, used for \"*\" and \"**\" placeholders\n            paramValue = toArray(paramValue); // when there are multiple globs, RR defines \"splat\" param as array.\n\n            var i = 0;\n            routePath = routePath.replace(reSplatParams, function (match) {\n              var val = paramValue[i++];\n\n              if (val == null) {\n                return \"\";\n              } else {\n                var tokenName = 'splat' + i;\n                tokens[tokenName] = match === \"*\" ? encodeURIComponent(val) // don't escape slashes for double star, as \"**\" considered greedy by RR spec\n                : encodeURIComponent(val.toString().replace(/\\//g, \"_!slash!_\")).replace(reSlashTokens, \"/\");\n                return '<' + tokenName + '>';\n              }\n            });\n          } else {\n            // Rougly resolve all named placeholders.\n            // Cases:\n            // - \"/path/:param\"\n            // - \"/path/(:param)\"\n            // - \"/path(/:param)\"\n            // - \"/path(/:param/):another_param\"\n            // - \"/path/:param(/:another_param)\"\n            // - \"/path(/:param/:another_param)\"\n            var paramRegex = new RegExp('(\\/|\\\\(|\\\\)|^):' + paramName + '(\\/|\\\\)|\\\\(|$)');\n            routePath = routePath.replace(paramRegex, function (match, g1, g2) {\n              tokens[paramName] = encodeURIComponent(paramValue);\n              return g1 + '<' + paramName + '>' + g2;\n            });\n            var paramRegexRR4 = new RegExp('(.*):' + paramName + '\\\\?(.*)');\n            routePath = routePath.replace(paramRegexRR4, function (match, g1, g2) {\n              tokens[paramName] = encodeURIComponent(paramValue);\n              return g1 + '<' + paramName + '>' + g2;\n            });\n          }\n        }\n      }\n    }\n\n    return routePath // Remove braces around resolved optional params (i.e. \"/path/(value)\")\n    .replace(reResolvedOptionalParams, \"$1\") // Remove all sequences containing at least one unresolved optional param\n    .replace(reUnresolvedOptionalParams, \"\") // Remove all sequences containing at least one unresolved optional param in RR4\n    .replace(reUnresolvedOptionalParamsRR4, \"\") // After everything related to RR syntax is removed, insert actual values\n    .replace(reTokens, function (match, token) {\n      return tokens[token];\n    }) // Remove repeating slashes\n    .replace(reRepeatingSlashes, \"/\") // Always remove ending slash for consistency\n    .replace(/\\/+$/, \"\") // If there was a single slash only, keep it\n    .replace(/^$/, \"/\");\n  }\n\n  var resolve = NamedURLResolver.resolve.bind(NamedURLResolver);\n  exports.Link = Link;\n  exports.NamedLink = Link;\n  exports.NamedURLResolver = NamedURLResolver;\n  exports.NamedURLResolverClass = NamedURLResolverClass;\n  exports.MonkeyPatchNamedRoutesSupport = MonkeyPatchNamedRoutesSupport;\n  exports.FixNamedRoutesSupport = MonkeyPatchNamedRoutesSupport;\n  exports.setNamedURLResolver = setNamedURLResolver;\n  exports.resolve = resolve;\n  exports.formatRoute = formatRoute;\n});","map":{"version":3,"sources":["/Users/ctkit/git/Pollux/Web/node_modules/react-router-named-routes/build/index.js"],"names":["global","factory","define","amd","exports","require","mod","react","reactRouter","createReactClass","index","React","ReactRouter","Object","defineProperty","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_objectWithoutProperties","obj","keys","indexOf","OriginalLink","Link","NamedURLResolverClass","routesMap","toArray","val","toString","reRepeatingSlashes","reSplatParams","reResolvedOptionalParams","reUnresolvedOptionalParams","reUnresolvedOptionalParamsRR4","reTokens","reSlashTokens","resolve","name","params","routePath","formatRoute","mergeRouteTree","routes","_this","prefix","undefined","forEach","route","newPrefix","props","path","filter","x","join","replace","Children","children","child","reset","NamedURLResolver","render","_props","to","resolver","rest","finalTo","resolveTo","createElement","location","pathname","Error","MonkeyPatchNamedRoutesSupport","basename","setNamedURLResolver","tokens","paramName","paramValue","match","tokenName","encodeURIComponent","paramRegex","RegExp","g1","g2","paramRegexRR4","token","bind","NamedLink","FixNamedRoutesSupport"],"mappings":"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","sourcesContent":["(function (global, factory) {\n    if (typeof define === \"function\" && define.amd) {\n        define(['exports', 'react', 'react-router', 'create-react-class'], factory);\n    } else if (typeof exports !== \"undefined\") {\n        factory(exports, require('react'), require('react-router'), require('create-react-class'));\n    } else {\n        var mod = {\n            exports: {}\n        };\n        factory(mod.exports, global.react, global.reactRouter, global.createReactClass);\n        global.index = mod.exports;\n    }\n})(this, function (exports, React, ReactRouter, createReactClass) {\n    'use strict';\n\n    Object.defineProperty(exports, \"__esModule\", {\n        value: true\n    });\n\n    var _extends = Object.assign || function (target) {\n        for (var i = 1; i < arguments.length; i++) {\n            var source = arguments[i];\n\n            for (var key in source) {\n                if (Object.prototype.hasOwnProperty.call(source, key)) {\n                    target[key] = source[key];\n                }\n            }\n        }\n\n        return target;\n    };\n\n    function _objectWithoutProperties(obj, keys) {\n        var target = {};\n\n        for (var i in obj) {\n            if (keys.indexOf(i) >= 0) continue;\n            if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n            target[i] = obj[i];\n        }\n\n        return target;\n    }\n\n    var OriginalLink = ReactRouter.Link;\n\n\n    // Deliberately not using ES6 classes - babel spits out too much boilerplate\n    //                                      and I don't want to add a dependency on babel\n    //                                      runtime\n    function NamedURLResolverClass() {\n        this.routesMap = {};\n    }\n\n    function toArray(val) {\n        return Object.prototype.toString.call(val) !== '[object Array]' ? [val] : val;\n    }\n\n    // Cached regexps:\n\n    var reRepeatingSlashes = /\\/+/g; // \"/some//path\"\n    var reSplatParams = /\\*{1,2}/g; // \"/some/*/complex/**/path\"\n    var reResolvedOptionalParams = /\\(([^:*?#]+?)\\)/g; // \"/path/with/(resolved/params)\"\n    var reUnresolvedOptionalParams = /\\([^:?#]*:[^?#]*?\\)/g; // \"/path/with/(groups/containing/:unresolved/optional/:params)\"\n    var reUnresolvedOptionalParamsRR4 = /(\\/[^\\/]*\\?)/g; // \"/path/with/groups/containing/unresolved?/optional/params?\"\n    var reTokens = /<(.*?)>/g;\n    var reSlashTokens = /_!slash!_/g;\n\n    NamedURLResolverClass.prototype.resolve = function (name, params) {\n        if (name && name in this.routesMap) {\n            var routePath = this.routesMap[name];\n            return formatRoute(routePath, params);\n        }\n\n        return name;\n    };\n\n    NamedURLResolverClass.prototype.mergeRouteTree = function (routes) {\n        var _this = this;\n\n        var prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n\n        routes = toArray(routes);\n\n        routes.forEach(function (route) {\n            if (!route) return;\n\n            var newPrefix = \"\";\n            if (route.props) {\n                var routePath = route.props.path || \"\";\n                var newPrefix = (routePath != null && routePath[0] === \"/\" ? routePath : [prefix, routePath].filter(function (x) {\n                    return x;\n                }).join(\"/\")).replace(reRepeatingSlashes, \"/\");\n                if (route.props.name) {\n                    _this.routesMap[route.props.name] = newPrefix;\n                }\n\n                React.Children.forEach(route.props.children, function (child) {\n                    _this.mergeRouteTree(child, newPrefix);\n                });\n            }\n        });\n    };\n\n    NamedURLResolverClass.prototype.reset = function () {\n        this.routesMap = {};\n    };\n\n    var NamedURLResolver = new NamedURLResolverClass();\n\n    var Link = createReactClass({\n        render: function render() {\n            var _props = this.props,\n                to = _props.to,\n                resolver = _props.resolver,\n                params = _props.params,\n                rest = _objectWithoutProperties(_props, ['to', 'resolver', 'params']);\n\n            if (!resolver) resolver = NamedURLResolver;\n\n            var finalTo = resolveTo(resolver, to, params);\n            return React.createElement(OriginalLink, _extends({ to: finalTo }, rest));\n        }\n    });\n\n    function resolveTo(resolver, to, params) {\n        if (typeof to === \"string\") {\n            return resolver.resolve(to, params);\n        }\n\n        if (typeof to === \"function\") {\n            return function (location) {\n                return resolveTo(resolver, to(location), params);\n            };\n        }\n\n        if (!to.name) {\n            return to;\n        }\n\n        if (to.pathname) {\n            throw new Error('Cannot specify both \"pathname\" and \"name\" options in location descriptor.');\n        }\n\n        var name = to.name,\n            rest = _objectWithoutProperties(to, ['name']);\n\n        return _extends({}, rest, {\n            pathname: resolver.resolve(name, params)\n        });\n    }\n\n    function MonkeyPatchNamedRoutesSupport(routes) {\n        var basename = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"/\";\n\n        NamedURLResolver.mergeRouteTree(routes, basename);\n        ReactRouter.Link = Link;\n    };\n\n    function setNamedURLResolver(resolver) {\n        exports.NamedURLResolver = NamedURLResolver = resolver;\n    };\n\n    function formatRoute(routePath, params) {\n        if (params) {\n            var tokens = {};\n\n            for (var paramName in params) {\n                if (params.hasOwnProperty(paramName)) {\n                    var paramValue = params[paramName];\n\n                    if (paramName === \"splat\") {\n                        // special param name in RR, used for \"*\" and \"**\" placeholders\n                        paramValue = toArray(paramValue); // when there are multiple globs, RR defines \"splat\" param as array.\n                        var i = 0;\n                        routePath = routePath.replace(reSplatParams, function (match) {\n                            var val = paramValue[i++];\n                            if (val == null) {\n                                return \"\";\n                            } else {\n                                var tokenName = 'splat' + i;\n                                tokens[tokenName] = match === \"*\" ? encodeURIComponent(val)\n                                // don't escape slashes for double star, as \"**\" considered greedy by RR spec\n                                : encodeURIComponent(val.toString().replace(/\\//g, \"_!slash!_\")).replace(reSlashTokens, \"/\");\n                                return '<' + tokenName + '>';\n                            }\n                        });\n                    } else {\n                        // Rougly resolve all named placeholders.\n                        // Cases:\n                        // - \"/path/:param\"\n                        // - \"/path/(:param)\"\n                        // - \"/path(/:param)\"\n                        // - \"/path(/:param/):another_param\"\n                        // - \"/path/:param(/:another_param)\"\n                        // - \"/path(/:param/:another_param)\"\n                        var paramRegex = new RegExp('(\\/|\\\\(|\\\\)|^):' + paramName + '(\\/|\\\\)|\\\\(|$)');\n                        routePath = routePath.replace(paramRegex, function (match, g1, g2) {\n                            tokens[paramName] = encodeURIComponent(paramValue);\n                            return g1 + '<' + paramName + '>' + g2;\n                        });\n                        var paramRegexRR4 = new RegExp('(.*):' + paramName + '\\\\?(.*)');\n                        routePath = routePath.replace(paramRegexRR4, function (match, g1, g2) {\n                            tokens[paramName] = encodeURIComponent(paramValue);\n                            return g1 + '<' + paramName + '>' + g2;\n                        });\n                    }\n                }\n            }\n        }\n\n        return routePath\n        // Remove braces around resolved optional params (i.e. \"/path/(value)\")\n        .replace(reResolvedOptionalParams, \"$1\")\n        // Remove all sequences containing at least one unresolved optional param\n        .replace(reUnresolvedOptionalParams, \"\")\n        // Remove all sequences containing at least one unresolved optional param in RR4\n        .replace(reUnresolvedOptionalParamsRR4, \"\")\n        // After everything related to RR syntax is removed, insert actual values\n        .replace(reTokens, function (match, token) {\n            return tokens[token];\n        })\n        // Remove repeating slashes\n        .replace(reRepeatingSlashes, \"/\")\n        // Always remove ending slash for consistency\n        .replace(/\\/+$/, \"\")\n        // If there was a single slash only, keep it\n        .replace(/^$/, \"/\");\n    }\n\n    var resolve = NamedURLResolver.resolve.bind(NamedURLResolver);\n\n    exports.Link = Link;\n    exports.NamedLink = Link;\n    exports.NamedURLResolver = NamedURLResolver;\n    exports.NamedURLResolverClass = NamedURLResolverClass;\n    exports.MonkeyPatchNamedRoutesSupport = MonkeyPatchNamedRoutesSupport;\n    exports.FixNamedRoutesSupport = MonkeyPatchNamedRoutesSupport;\n    exports.setNamedURLResolver = setNamedURLResolver;\n    exports.resolve = resolve;\n    exports.formatRoute = formatRoute;\n});\n"]},"metadata":{},"sourceType":"script"}